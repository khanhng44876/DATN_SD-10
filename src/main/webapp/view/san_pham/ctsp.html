<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<div th:if="${session.nhanVien != null}">
    <head>
        <title>Quan Ly San Pham</title>
        <meta charset="utf-8">
        <head th:replace="~{giao_dien_chinh/libAdmin :: libheaderadmin}"></head>
        <link rel="stylesheet" type="text/css" href="/css/style.css">
    </head>
    <body>
    <div>
        <div th:replace="giao_dien_chinh/navbarAdmin :: headerAdmin"></div>
        <div class="d-flex">
            <div th:replace="giao_dien_chinh/navbarAdmin :: sidenavAdmin"></div>
            <div class="pt-3" style="width: calc(100% - 250px);">
                <div class="container">
                    <h2 style="text-align: center;">Quản Lý Chi Tiết Sản Phẩm</h2>

                    <a href="/san-pham/addctsp" class="btn btn-success">Thêm chi tiet sản phẩm</a>

                    <table id="example" class="table table-bordered">
                        <thead>
                        <tr>
                            <th>Mã CTSP</th>
                            <th>Tên sản phẩm</th>
                            <th>Màu sắc</th>
                            <th>Kích thước</th>
                            <th>Chất liệu</th>
                            <th>Số lượng</th>
                            <th>Đơn giá</th>
                            <th>Ghi chú</th>
                            <th>Ảnh</th>
                            <th>Trạng thái</th>
                            <th>Thao tác</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="d : ${listctsp}">
                            <td th:text="${d.id}"></td>
                            <td th:text="${d.sanPham.tenSanPham}"></td>
                            <td th:text="${d.mauSac.ten_mau_sac}"></td>
                            <td th:text="${d.kichThuoc.tenKichThuoc}"></td>
                            <td th:text="${d.chatLieu.tenChatLieu}"></td>
                            <td th:text="${d.soLuong}"></td>
                            <td><span th:inline="text">[[${#numbers.formatDecimal(d.donGia, 0, 'COMMA', 0, 'POINT')}]]</span></td>
                            <td th:text="${d.moTa}"></td>
                            <td><img th:src="${d.anhSanPham}" alt="Ảnh sản phẩm" style="width: 100px; height: 100px;"></td>
                            <td th:text="${d.trangThai}"></td>
                            <td>
                                <button th:onclick="|window.location.href='/san-pham/chinh-sua-ctsp/${d.id}'|" class="btn btn-warning">
                                    <i class="fa fa-pencil-alt"></i>
                                </button>


                            </td>
                            <!-- Dữ liệu sẽ được động hiển thị ở đây -->
                        </tbody>
                    </table>
                    <br><br>
                </div>
            </div>
        </div>
    </div>
    </body>
</div>

    <script>
        $('#example').DataTable();
    </script>

    <!-- Nội dung dành cho người dùng đã đăng nhập -->
</div>
<div th:if="${session.nhanVien == null}">
    <p>Vui lòng <a th:href="@{/dang-nhap/login}">đăng nhập</a>.</p>
</div>
</html>